{"version":3,"sources":["../../src/server/index.js"],"names":["admin","initializeApp","dev","process","env","NODE_ENV","app","conf","distDir","handle","getRequestHandler","server","functions","https","onRequest","request","response","console","log","originalUrl","prepare","then","nextjs"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEAA,KAAK,CAACC,aAAN;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAArC;AACA,MAAMC,GAAG,GAAG,mBAAK;AACfJ,EAAAA,GADe;AAEf;AACA;AACAK,EAAAA,IAAI,EAAE;AAAEC,IAAAA,OAAO,EAAE;AAAX;AAJS,CAAL,CAAZ;AAMA,MAAMC,MAAM,GAAGH,GAAG,CAACI,iBAAJ,EAAf;AAEA,MAAMC,MAAM,GAAGC,SAAS,CAACC,KAAV,CAAgBC,SAAhB,CAA0B,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAC9D;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAWH,OAAO,CAACI,WAA/B;AACA,SAAOb,GAAG,CAACc,OAAJ,GAAcC,IAAd,CAAmB,MAAMZ,MAAM,CAACM,OAAD,EAAUC,QAAV,CAA/B,CAAP;AACD,CAJc,CAAf;AAMA,MAAMM,MAAM,GAAG;AACbX,EAAAA;AADa,CAAf","sourcesContent":["import * as admin from \"firebase-admin\";\nimport * as functions from \"firebase-functions\";\nimport next from \"next\";\n\nadmin.initializeApp();\n\nconst dev = process.env.NODE_ENV !== \"production\";\nconst app = next({\n  dev,\n  // the absolute directory from the package.json file that initialises this module\n  // IE: the absolute path from the root of the Cloud Function\n  conf: { distDir: \"dist/client\" },\n});\nconst handle = app.getRequestHandler();\n\nconst server = functions.https.onRequest((request, response) => {\n  // log the page.js file or resource being requested\n  console.log(\"File: \" + request.originalUrl);\n  return app.prepare().then(() => handle(request, response));\n});\n\nconst nextjs = {\n  server,\n};\n\nexport { nextjs };\n"],"file":"index.js"}